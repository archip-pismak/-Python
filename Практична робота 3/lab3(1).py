# Письмак Архип Юрійович КН-45-5(13 варіант)
# Передостанній символ рядка.

"""
Скрипт запитує у користувача рядок (якщо натиснути Enter — використається значення за замовчуванням)
та виводить різні зрізи з перевіркою на достатню довжину рядка.
"""

def show(label: str, condition: bool, value_supplier):
    # Допоміжна функція для безпечного виводу зрізів із перевіркою довжини.
    if condition:
        try:
            value = value_supplier()
        except Exception as e:
            print(f"{label}: помилка обчислення зрізу: {e}")
            return
        print(f"{label}: {value!r}")
    else:
        print(f"{label}: (довжина рядка недостатня)")


def main():
    # Присвоюємо змінній довільний рядок (дозволяємо користувачу ввести свій)
    user_input = input("Введіть рядок (або натисніть Enter для прикладу): ").strip()
    s = user_input if user_input else "Програмування мовою Python"

    print(f"Рядок: {s!r} (довжина: {len(s)})\n")

    # Базові зрізи/символи
    show("1) Перший символ s[0]", len(s) >= 1, lambda: s[0])
    show("2) Останній символ s[-1]", len(s) >= 1, lambda: s[-1])
    show("3) Перші 3 символи s[:3]", len(s) >= 3, lambda: s[:3])
    show("4) Останні 3 символи s[-3:]", len(s) >= 3, lambda: s[-3:])

    # Декілька корисних фрагментів з умовами
    show("5) Символи з 2-ї по 5-у s[1:5]", len(s) >= 5, lambda: s[1:5])
    show("6) Середина без перших і останніх 3-х s[3:-3]", len(s) >= 6, lambda: s[3:-3])
    show("7) Перші 8 символів, починаючи з 3-го s[2:10]", len(s) >= 3, lambda: s[2:10])

    # Кроки та розворот
    # Ці зрізи формально коректні для будь-якої довжини, але залишимо однаковий стиль виводу
    show("8) Кожен 2-й символ s[::2]", len(s) >= 1, lambda: s[::2])
    show("9) Кожен 2-й символ, починаючи з 2-го s[1::2]", len(s) >= 2, lambda: s[1::2])
    show("10) Рядок у зворотному порядку s[::-1]", len(s) >= 1, lambda: s[::-1])
    show("11) Кожен 2-й у зворотному порядку s[::-2]", len(s) >= 1, lambda: s[::-2])

    # Індекси поза діапазоном безпечні для зрізів, але не для одиночних доступів
    show("12) Перші 100 символів s[:100]", len(s) >= 1, lambda: s[:100])
    show("13) З 5-го до 100-го s[4:100]", len(s) >= 5, lambda: s[4:100])


if __name__ == "__main__":
    main()

